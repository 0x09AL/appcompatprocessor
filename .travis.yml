language: python
python:
  - "2.7"

before_install:
 - wget https://github.com/libyal/libregf/releases/download/20160424/libregf-alpha-20160424.tar.gz
 - tar xzvf libregf-alpha-20160424.tar.gz
 - pushd libregf-20160424 && ./configure --enable-python && make && sudo make install && python setup.py build && python setup.py install && popd

# command to install dependencies
install:
 - pip install faker
 - pip install -r requirements.txt

# command to run tests
script: pytest ./test/test_status.py